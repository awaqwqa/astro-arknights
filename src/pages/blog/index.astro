---
import {getCollection} from 'astro:content'
// import {Debug} from 'astro:components'
import InfoLayout from "../../layouts/InfoLayout.astro"
import InfoCard from "../../components/InfoCard.astro"
import GoBackTool from "../../components/GoBackTool"
import DocsLayout from "../../layouts/DocsLayout.astro"
const base = import.meta.env.BASE_URL
const allBlog = await getCollection("blog");
---

<DocsLayout title="BLOG">
    <div class="h-full flex-auto mr-[-16px] overflow-x-hidden overflow-y-scroll">
        <nav class="max-w-[80.75rem] mx-auto">
            {
                // 显示文章 传入了index item
                (allBlog.length > 0) && allBlog.map((item, index) =>
                            <InfoCard {...{index, item}}/>)
            }
            <!--<Debug {allBlog}/>-->
        </nav>
        <div class="text-center text-[.75rem] font-n15eBold pt-12 pb-6">- END -</div>
        <!-- TODO: 显示页码 -->
    </div>

    <div slot="aside-footer">
        <!-- TODO: 分组类型选择 -->
    </div>
    <!-- 用于返回上一级(动态)或者首页 -->
    <GoBackTool slot="tool-panel" client:load/>
</DocsLayout>
